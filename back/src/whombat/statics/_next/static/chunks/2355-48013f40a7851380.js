"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2355],{40072:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(14357),l=n(5374),s=n.n(l);function i(e){let{children:t,className:n,...l}=e;return(0,r.jsx)("div",{className:s()("border shadow flex flex-col gap-3 p-4 rounded-md border-stone-300 dark:border-stone-700 text-stone-700 dark:text-stone-300",n),...l,children:t})}},24070:function(e,t,n){n.d(t,{H1:function(){return i},H3:function(){return a},H4:function(){return o}});var r=n(14357),l=n(5374),s=n.n(l);function i(e){let{children:t,className:n,...l}=e;return(0,r.jsx)("h1",{className:s()("text-2xl font-bold text-stone-900 dark:text-stone-200",n),...l,children:t})}function a(e){let{children:t,className:n,...l}=e;return(0,r.jsx)("h3",{className:s()("text-lg font-semibold leading-7 items-center text-stone-900 dark:text-stone-200",n),...l,children:t})}function o(e){let{children:t,className:n,...l}=e;return(0,r.jsx)("h4",{className:s()("text-md font-semibold leading-6 text-stone-900 dark:text-stone-200",n),...l,children:t})}},96489:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(14357),l=n(11391);function s(e){let{checked:t,onChange:n,label:s="Toggle"}=e;return(0,r.jsxs)(l.r,{checked:t,onChange:n,className:"".concat(t?"bg-emerald-600 dark:bg-emerald-500":"bg-emerald-900 dark:bg-emerald-800","\n          relative inline-flex h-5 w-12 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-4 focus:ring-emerald-500/50 focus-visible:ring-4 focus-visible:ring-emeral-500/50"),children:[(0,r.jsx)("span",{className:"sr-only",children:s}),(0,r.jsx)("span",{"aria-hidden":"true",className:"".concat(t?"translate-x-7":"translate-x-0","\n            pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out")})]})}},39886:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(14357),l=n(6439),s=n(29050),i=n(40072),a=n(60169),o=n(30485),c=n(28217),u=n(42996);function d(e){let{filter:t,value:n,limit:s=6,onSelect:i}=e,[a,d]=(0,l.useState)(""),f=(0,u.Z)({filter:t});return(0,o.Z)(()=>{f.filter.set("search",a)},500,[a]),(0,r.jsx)(c.Z,{value:n,options:f.items,limit:s,fields:["name"],initialQuery:a,onChange:d,onSelect:i,static:!1,displayValue:e=>e.name,renderOption:e=>e.name,getOptionKey:e=>e.id})}var f=n(96489),h=n(35573),m=n(24070),p=n(56793);function x(e){let{selected:t,onSelect:n}=e;return(0,r.jsxs)(i.Z,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.H3,{children:"Select Annotation Project"}),(0,r.jsx)("p",{className:"text-stone-500",children:"Choose the annotation project from which to source your ground truth data."})]}),(0,r.jsx)(d,{value:t,onSelect:n})]})}function v(e){var t;let{onChange:n,project:a}=e,o=(0,l.useMemo)(()=>({project__eq:null!==(t=null==a?void 0:a.id)&&void 0!==t?t:-1}),[null==a?void 0:a.id]),c=(0,s.Z)({filter:o,pageSize:-1,enabled:null!=a});return(0,l.useEffect)(()=>{null!=c.items&&n(c.items)},[c.items,n]),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(m.H3,{children:"Filter tasks"}),(0,r.jsx)("p",{className:"text-stone-500",children:"Select which tasks from the annotation project to add to the evaluation set. Here are some recommended filters:"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.BZ,{label:"Completed",name:"completed",help:"Only include tasks that have been completed.",children:(0,r.jsx)(f.Z,{checked:!1==c.filter.get("pending__eq"),onChange:e=>{e?c.filter.set("pending__eq",!1):c.filter.clear("pending__eq")}})}),(0,r.jsx)(h.BZ,{label:"Verified",name:"verified",help:"Only include tasks that have been verified.",children:(0,r.jsx)(f.Z,{checked:!0==c.filter.get("verified__eq"),onChange:e=>{e?c.filter.set("verified__eq",!0):c.filter.clear("verified__eq")}})})]})]})}function g(e){let{toAdd:t,project:n,onAdd:l}=e;return null==n?(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(m.H3,{children:"Review"}),(0,r.jsx)("p",{className:"dark:text-red-400 text-red-600",children:"To proceed, select an annotation project to add tasks from."})]}):(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(m.H3,{children:"Review"}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("p",{className:"text-stone-500",children:"Tasks selected from:"}),(0,r.jsx)("p",{className:"text-amber-500 font-bold w-full text-center",children:n.name})]}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("p",{className:"text-stone-500",children:"New tasks to add:"}),(0,r.jsx)("p",{className:"text-blue-500 font-bold w-full text-center",children:t.length})]}),(0,r.jsx)("div",{className:"flex flex-row justify-center",children:(0,r.jsxs)(a.Z,{mode:"text",variant:"primary",padding:"p-1",onClick:l,children:[(0,r.jsx)(p.dt,{className:"inline-block w-4 h-4 mr-1"})," Add tasks"]})})]})}function j(e){let{tasks:t}=e;return(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(m.H3,{children:"Current tasks"}),(0,r.jsxs)("p",{className:"text-stone-500",children:["There are"," ",(0,r.jsx)("span",{className:"text-blue-500 font-bold",children:t.toLocaleString()})," ","tasks currently in this evaluation set."]})]})}function b(e){let{evaluationSet:t,tasks:n,onAddTasks:s}=e,[i,a]=(0,l.useState)(null),[o,c]=(0,l.useState)([]),u=(0,l.useCallback)(async()=>{if(null!=i){let e=o.map(e=>({task_id:e.id,evaluation_set_id:t.id}));await s(e)}},[i,t,s,o]);return(0,r.jsxs)("div",{className:"flex flex-row gap-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-y-6",children:[(0,r.jsx)(x,{selected:null!=i?i:void 0,onSelect:a}),(0,r.jsx)(v,{onChange:c,project:i})]}),(0,r.jsx)("div",{className:"basis-96",children:(0,r.jsxs)("div",{className:"sticky top-8 flex flex-col gap-2",children:[(0,r.jsx)(j,{tasks:n}),(0,r.jsx)(g,{toAdd:o,project:i,onAdd:u})]})})]})}},42996:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(81361),l=n(11441),s=n(54313);let i={};function a(){let{filter:e=i,pageSize:t=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,s.Z)({fixed:e}),{query:a,pagination:o,items:c,total:u}=(0,l.Z)({name:"annotation_projects",func:r.Z.annotation_projects.getMany,pageSize:t,filter:n.filter});return{filter:n,query:a,pagination:o,items:c,total:u}}},80679:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(62976),l=n(81361),s=n(11441),i=n(54313);let a={};function o(){let{filter:e=a,pageSize:t=10,enabled:n=!0,onCreate:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,i.Z)({fixed:e}),{query:u,pagination:d,items:f,total:h}=(0,s.Z)({name:"evaluation_tasks",func:l.Z.evaluation_tasks.getMany,pageSize:t,filter:c.filter,enabled:n}),m=(0,r.D)({mutationFn:l.Z.evaluation_tasks.createMany,onSuccess:e=>{u.refetch(),null==o||o(e)}});return{filter:c,query:u,pagination:d,items:f,total:h,create:m}}},29050:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(81361),l=n(11441),s=n(54313);let i={};function a(){let{filter:e=i,pageSize:t=10,enabled:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,s.Z)({fixed:e}),{query:o,pagination:c,items:u,total:d}=(0,l.Z)({name:"tasks",func:r.Z.tasks.getMany,pageSize:t,filter:a.filter,enabled:n});return{filter:a,query:o,pagination:c,items:u,total:d}}},68302:function(e,t,n){n.d(t,{d:function(){return d},f:function(){return u}});var r=n(6439),l=n(65961),s=n(47702),i=n(64092),a=n(39809),o=n(68344);let c=(0,r.createContext)(null);function u(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)(()=>function(e){let n=(0,o.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),r=n.indexOf(e);return -1!==r&&n.splice(r,1),n}))),l=(0,r.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return r.createElement(c.Provider,{value:l},e.children)},[t])]}let d=Object.assign((0,s.yV)(function(e,t){let n=(0,l.M)(),{id:o=`headlessui-description-${n}`,...u}=e,d=function e(){let t=(0,r.useContext)(c);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),f=(0,a.T)(t);(0,i.e)(()=>d.register(o),[o,d.register]);let h={ref:f,...d.props,id:o};return(0,s.sY)({ourProps:h,theirProps:u,slot:d.slot||{},defaultTag:"p",name:d.name||"Description"})}),{})},43764:function(e,t,n){n.d(t,{_:function(){return d},b:function(){return u}});var r=n(6439),l=n(65961),s=n(47702),i=n(64092),a=n(39809),o=n(68344);let c=(0,r.createContext)(null);function u(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)(()=>function(e){let n=(0,o.z)(e=>(t(t=>[...t,e]),()=>t(t=>{let n=t.slice(),r=n.indexOf(e);return -1!==r&&n.splice(r,1),n}))),l=(0,r.useMemo)(()=>({register:n,slot:e.slot,name:e.name,props:e.props}),[n,e.slot,e.name,e.props]);return r.createElement(c.Provider,{value:l},e.children)},[t])]}let d=Object.assign((0,s.yV)(function(e,t){let n=(0,l.M)(),{id:o=`headlessui-label-${n}`,passive:u=!1,...d}=e,f=function e(){let t=(0,r.useContext)(c);if(null===t){let t=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),h=(0,a.T)(t);(0,i.e)(()=>f.register(o),[o,f.register]);let m={ref:h,...f.props,id:o};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in d&&delete d.onClick),(0,s.sY)({ourProps:m,theirProps:d,slot:f.slot||{},defaultTag:"label",name:f.name||"Label"})}),{})},11391:function(e,t,n){n.d(t,{r:function(){return j}});var r=n(6439),l=n(47702),s=n(65961),i=n(59573),a=n(56851),o=n(43764),c=n(68302),u=n(31708),d=n(39809),f=n(57225),h=n(28587),m=n(68344),p=n(94110),x=n(50814);let v=(0,r.createContext)(null);v.displayName="GroupContext";let g=r.Fragment,j=Object.assign((0,l.yV)(function(e,t){let n=(0,s.M)(),{id:o=`headlessui-switch-${n}`,checked:c,defaultChecked:g=!1,onChange:j,name:b,value:k,form:y,...w}=e,Z=(0,r.useContext)(v),N=(0,r.useRef)(null),_=(0,d.T)(N,t,null===Z?null:Z.setSwitch),[C,S]=(0,p.q)(c,j,g),E=(0,m.z)(()=>null==S?void 0:S(!C)),T=(0,m.z)(e=>{if((0,a.P)(e.currentTarget))return e.preventDefault();e.preventDefault(),E()}),M=(0,m.z)(e=>{e.key===i.R.Space?(e.preventDefault(),E()):e.key===i.R.Enter&&(0,h.g)(e.currentTarget)}),P=(0,m.z)(e=>e.preventDefault()),D=(0,r.useMemo)(()=>({checked:C}),[C]),H={id:o,ref:_,role:"switch",type:(0,u.f)(e,N),tabIndex:0,"aria-checked":C,"aria-labelledby":null==Z?void 0:Z.labelledby,"aria-describedby":null==Z?void 0:Z.describedby,onClick:T,onKeyUp:M,onKeyPress:P},O=(0,x.G)();return(0,r.useEffect)(()=>{var e;let t=null==(e=N.current)?void 0:e.closest("form");t&&void 0!==g&&O.addEventListener(t,"reset",()=>{S(g)})},[N,S]),r.createElement(r.Fragment,null,null!=b&&C&&r.createElement(f._,{features:f.A.Hidden,...(0,l.oA)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,form:y,checked:C,name:b,value:k})}),(0,l.sY)({ourProps:H,theirProps:w,slot:D,defaultTag:"button",name:"Switch"}))}),{Group:function(e){var t;let[n,s]=(0,r.useState)(null),[i,a]=(0,o.b)(),[u,d]=(0,c.f)(),f=(0,r.useMemo)(()=>({switch:n,setSwitch:s,labelledby:i,describedby:u}),[n,s,i,u]);return r.createElement(d,{name:"Switch.Description"},r.createElement(a,{name:"Switch.Label",props:{htmlFor:null==(t=f.switch)?void 0:t.id,onClick(e){n&&("LABEL"===e.currentTarget.tagName&&e.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},r.createElement(v.Provider,{value:f},(0,l.sY)({ourProps:{},theirProps:e,defaultTag:g,name:"Switch.Group"}))))},Label:o._,Description:c.d})}}]);