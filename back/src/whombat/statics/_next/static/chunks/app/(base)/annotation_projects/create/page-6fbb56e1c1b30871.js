(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{84563:function(e,t,n){Promise.resolve().then(n.bind(n,74523))},74523:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(14357),a=n(6439),r=n(62976),i=n(32091),o=n(81361),l=n(60169),c=n(56793),d=n(17586),u=n(14548),m=n(76283),x=n(19720),h=n(89462),j=n(56029),p=n(35573),g=n(27806);function f(e){var t,n,a;let{onCreate:i}=e,l=(0,x.cI)({resolver:(0,j.F)(g.Gd),mode:"onChange"}),{errors:c}=l.formState,d=(0,r.D)({mutationFn:o.Z.annotation_projects.create,onSuccess:e=>{i(e)}}),u=async e=>h.ZP.promise(d.mutateAsync(e),{loading:"Creating Evaluation Set...",success:"Evaluation Set created!",error:"Something went wrong. Please try again."});return(0,s.jsxs)("form",{className:"w-full",onSubmit:l.handleSubmit(u),children:[(0,s.jsx)(p.BZ,{label:"Name",name:"name",help:"Please provide a name for the Annotation Project.",error:null===(t=c.name)||void 0===t?void 0:t.message,children:(0,s.jsx)(p.II,{disabled:d.isSuccess,...l.register("name")})}),(0,s.jsx)(p.BZ,{label:"Description",name:"description",help:"Describe the purpose of the project",error:null===(n=c.description)||void 0===n?void 0:n.message,children:(0,s.jsx)(p.Kx,{disabled:d.isSuccess,rows:6,...l.register("description")})}),(0,s.jsx)(p.BZ,{label:"Instructions",name:"annotation_instructions",help:"Write instructions for annotators.",error:null===(a=c.annotation_instructions)||void 0===a?void 0:a.message,children:(0,s.jsx)(p.Kx,{disabled:d.isSuccess,rows:10,...l.register("annotation_instructions")})}),(0,s.jsx)(p.k4,{disabled:d.isSuccess,children:"Create Project"})]})}var b=n(2561);let v=[{title:"Create Project",description:"Enter basic details.",icon:c.O4},{title:"Annotation Tags",description:"Choose tags for annotation.",icon:c.Dg},{title:"Clip Selection",description:"Select clips to include.",icon:c.Al}];function N(e){let{project:t,onCancel:n,onBack:a,onDone:r}=e;return(0,s.jsxs)("div",{className:"col-span-2 flex flex-row justify-between items-center mb-3",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold mb-3",children:["Project Name: ",t.name]}),(0,s.jsxs)("div",{className:"inline-flex gap-3",children:[(0,s.jsxs)(l.Z,{variant:"danger",mode:"text",onClick:n,children:[(0,s.jsx)(c.Tw,{className:"inline-block w-4 h-4 mr-1"})," Cancel"]}),(0,s.jsxs)(l.Z,{variant:"warning",mode:"text",onClick:a,children:[(0,s.jsx)(c.xC,{className:"inline-block w-4 h-4 mr-1"})," Back"]}),(0,s.jsxs)(l.Z,{onClick:r,children:["Done",(0,s.jsx)(c.Ne,{className:"inline-block w-4 h-4 ml-1"})]})]})]})}function w(){let[e,t]=(0,a.useState)(0),n=(0,i.useRouter)(),[l,c]=(0,a.useState)(null),x=(0,r.D)({mutationFn:o.Z.annotation_projects.delete});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{text:"Create Annotation Project"}),(0,s.jsxs)("div",{className:"flex flex-row w-100 gap-8 py-8 pl-4 pr-12",children:[(0,s.jsx)("div",{className:"w-56 flex-none",children:(0,s.jsx)("div",{className:"sticky top-8",children:(0,s.jsx)(u.Z,{steps:v,activeStep:e})})}),(0,s.jsx)("div",{className:"grow",children:0===e?(0,s.jsx)(f,{onCreate:e=>{c(e),t(1)}}):1===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{project:l,onCancel:()=>{x.mutate(null==l?void 0:l.id),n.push("/annotation_projects")},onBack:()=>{x.mutate(null==l?void 0:l.id),t(0)},onDone:()=>t(2)}),(0,s.jsx)(b.Z,{project:l})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N,{project:l,onCancel:()=>{x.mutate(null==l?void 0:l.id),n.push("/annotation_projects")},onBack:()=>t(1),onDone:()=>{n.push("/annotation_projects/detail/?annotation_project_id=".concat(null==l?void 0:l.id))}}),(0,s.jsx)(m.Z,{project:l})]})})]})]})}},95930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(14357);function a(e){let{children:t}=e;return(0,s.jsx)("header",{className:"bg-stone-50 shadow dark:bg-stone-800",children:(0,s.jsx)("div",{className:"max-w-7xl px-2 py-3 sm:px-3 lg:px-6",children:t})})}},17586:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(14357),a=n(95930),r=n(24070);function i(e){let{text:t}=e;return(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.H1,{children:t})})}},17971:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var s=n(14357),a=n(5374),r=n.n(a);function i(e){let{title:t,className:n,children:a}=e;return(0,s.jsxs)("div",{className:r()(n,"flex items-center p-3 mb-4 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800"),role:"alert",children:[(0,s.jsx)("svg",{className:"flex-shrink-0 inline w-4 h-4 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})}),(0,s.jsx)("span",{className:"sr-only",children:"Info"}),(0,s.jsxs)("div",{children:[null!=t," ",a]})]})}},14548:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(14357),a=n(5374),r=n.n(a);function i(e){let{Icon:t,title:n,description:a,active:i=!1,disabled:o=!1}=e;return(0,s.jsxs)("li",{className:"mb-10 ml-6",children:[(0,s.jsx)("span",{className:r()("absolute flex items-center justify-center w-8 h-8 rounded-full -left-4 ring-2 ring-stone-100 dark:ring-stone-900",{"bg-amber-200 dark:bg-amber-700":i,"bg-stone-200 dark:bg-stone-600":o,"bg-emerald-200 dark:bg-emerald-700":!i&&!o}),children:(0,s.jsx)(t,{className:r()("w-5 h-5",{"text-emerald-500 dark:text-emerald-400":!i,"text-amber-500 dark:text-amber-400":i,"text-stone-400 dark:text-stone-900":o}),"aria-hidden":"true"})}),(0,s.jsx)("h3",{className:r()("font-medium leading-tight",{"text-amber-700 dark:text-amber-400":i}),children:n}),(0,s.jsx)("p",{className:"text-sm",children:a})]})}function o(e){let{steps:t,activeStep:n}=e;return(0,s.jsx)("div",{className:"pl-5 pt-1",children:(0,s.jsx)("ol",{className:"relative text-stone-500 border-l border-stone-200 dark:border-stone-700 dark:text-stone-400",children:t.map((e,t)=>(0,s.jsx)(i,{Icon:e.icon,title:e.title,description:e.description,active:t===n,disabled:t>n},e.title))})})}},2561:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(14357),a=n(52315),r=n(27862),i=n(17971),o=n(70565),l=n(69708),c=n(28217);function d(e){var t,n,d,u;let{project:m}=e,x=(0,a.Z)(e=>e.getTagColor),h=(0,r.Z)({annotation_project_id:m.id});return(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-14",children:[(0,s.jsxs)("div",{className:"md:col-span-1 col-span-2",children:[(0,s.jsx)("small",{className:"text-stone-500",children:"Use the search bar below to look for tags that you want to use in the project. Select a tag to add it to the project."}),(0,s.jsx)("div",{className:"py-2",children:(0,s.jsx)(l.Z,{autoFocus:!1,onSelect:e=>{h.addTag.mutate(e.id)}})}),(0,s.jsx)("small",{className:"text-stone-500",children:"You can create any new tags you do not find, but try to avoid creating two tags with the same meaning."}),(0,s.jsx)(i.Z,{className:"mt-4",children:"You can always add more tags in the future."})]}),(0,s.jsxs)("div",{className:"flex flex-col col-span-2 md:col-span-1 gap-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold",children:"Selected tags"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-blue-500 font-bold",children:(null!==(d=null===(t=h.query.data)||void 0===t?void 0:t.tags)&&void 0!==d?d:[]).length.toLocaleString()})," ","tags selected for the project. These tags will be available for annotators to use."]}),(0,s.jsx)("small",{className:"text-stone-500",children:"Use the search bar to look for registered tags. Click on a tag to remove it."}),(0,s.jsx)("div",{children:(0,s.jsx)(c.Z,{options:null!==(u=null===(n=h.query.data)||void 0===n?void 0:n.tags)&&void 0!==u?u:[],fields:["key","value"],limit:6,renderOption:e=>(0,s.jsx)(o.ZP,{tag:e,...x(e),onClose:()=>{h.removeTag.mutate(e.id)}},e.id)})})]})]})}}},function(e){e.O(0,[6949,3372,4564,243,2007,1651,3683,9530,422,2172,9720,9531,1361,9803,8525,8595,6072,8702,7431,1744],function(){return e(e.s=84563)}),_N_E=e.O()}]);