# Whombat èµ·å‹•ãƒ»åœæ­¢ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Whombatã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç°¡å˜ã«èµ·å‹•ãƒ»åœæ­¢ã™ã‚‹ãŸã‚ã®ã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

### ğŸš€ start.sh - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆFastAPIï¼‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆNext.jsï¼‰ã‚’åŒæ™‚ã«èµ·å‹•ã—ã¾ã™ã€‚

```bash
./scripts/start.sh
```

**æ©Ÿèƒ½**:
- ãƒãƒ¼ãƒˆä½¿ç”¨çŠ¶æ³ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- æ—¢å­˜ãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•åœæ­¢
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼èµ·å‹• (ãƒãƒ¼ãƒˆ5000)
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼èµ·å‹• (ãƒãƒ¼ãƒˆ3000)
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°è¡¨ç¤º
- Ctrl+Cã§ã®å®‰å…¨ãªçµ‚äº†

**ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `logs/backend.log`
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `logs/frontend.log`

**ç’°å¢ƒå¤‰æ•°**:
```bash
# ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒˆã§èµ·å‹•
WHOMBAT_BACKEND_PORT=8000 WHOMBAT_FRONTEND_PORT=4000 ./scripts/start.sh
```

---

### ğŸ›‘ stop.sh - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åœæ­¢

å®Ÿè¡Œä¸­ã®ã™ã¹ã¦ã®Whombatã‚µãƒ¼ãƒãƒ¼ã‚’åœæ­¢ã—ã¾ã™ã€‚

```bash
./scripts/stop.sh
```

**æ©Ÿèƒ½**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼åœæ­¢
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒãƒ¼åœæ­¢
- ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ï¼ˆå¤±æ•—æ™‚ã¯å¼·åˆ¶çµ‚äº†ï¼‰
- æ®‹å­˜ãƒ—ãƒ­ã‚»ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

---

### ğŸ”„ restart.sh - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢ã—ã¦ã‹ã‚‰å†èµ·å‹•ã—ã¾ã™ã€‚

```bash
./scripts/restart.sh
```

**ä½¿ç”¨ä¾‹**:
- ã‚³ãƒ¼ãƒ‰å¤‰æ›´å¾Œã®å†èµ·å‹•
- è¨­å®šå¤‰æ›´ã®åæ˜ 
- ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®ãƒªã‚»ãƒƒãƒˆ

---

### ğŸ“Š status.sh - ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª

ç¾åœ¨ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ç¢ºèªã—ã¾ã™ã€‚

```bash
./scripts/status.sh
```

**è¡¨ç¤ºå†…å®¹**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®èµ·å‹•çŠ¶æ…‹
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®èµ·å‹•çŠ¶æ…‹
- ãƒ—ãƒ­ã‚»ã‚¹ID (PID)
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯çµæœ
- ã‚¢ã‚¯ã‚»ã‚¹URL

**å‡ºåŠ›ä¾‹**:
```
======================================
   Whombat Application Status
======================================

Backend (FastAPI):
  Port: 5000
  URL:  http://localhost:5000/docs
  Status: Running (PID: 12345)
  Process: python
  Health: Responding

Frontend (Next.js):
  Port: 3000
  URL:  http://localhost:3000
  Status: Running (PID: 12346)
  Process: node
  Health: Responding

âœ“ All services are running
```

---

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd back
uv sync

# 2. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd ../front
npm install

# 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«æˆ»ã‚‹
cd ..
```

### åŸºæœ¬çš„ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
./scripts/start.sh

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# http://localhost:3000

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
./scripts/status.sh

# åœæ­¢
./scripts/stop.sh
```

### é–‹ç™ºä¸­ã®ä½¿ç”¨

```bash
# èµ·å‹•ï¼ˆCtrl+Cã§çµ‚äº†å¯èƒ½ï¼‰
./scripts/start.sh

# åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ­ã‚°ç›£è¦–
tail -f logs/backend.log
tail -f logs/frontend.log

# ã‚³ãƒ¼ãƒ‰å¤‰æ›´å¾Œã«å†èµ·å‹•
./scripts/restart.sh
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ¼ãƒˆãŒæ—¢ã«ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯è‡ªå‹•çš„ã«æ—¢å­˜ãƒ—ãƒ­ã‚»ã‚¹ã‚’åœæ­¢ã—ã¾ã™ãŒã€æ‰‹å‹•ã§åœæ­¢ã™ã‚‹å ´åˆï¼š

```bash
# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒãƒ¼ãƒˆï¼ˆ5000ï¼‰ã‚’è§£æ”¾
lsof -ti:5000 | xargs kill -9

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒãƒ¼ãƒˆï¼ˆ3000ï¼‰ã‚’è§£æ”¾
lsof -ti:3000 | xargs kill -9
```

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå®Ÿè¡Œã§ããªã„

å®Ÿè¡Œæ¨©é™ã‚’ç¢ºèªï¼š

```bash
ls -l scripts/*.sh

# æ¨©é™ãŒãªã„å ´åˆã¯ä»˜ä¸
chmod +x scripts/*.sh
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒèµ·å‹•ã—ãªã„

1. ãƒ­ã‚°ã‚’ç¢ºèªï¼š
```bash
cat logs/backend.log
```

2. ä»®æƒ³ç’°å¢ƒã‚’ç¢ºèªï¼š
```bash
cd back
ls -la .venv
```

3. æ‰‹å‹•ã§èµ·å‹•ãƒ†ã‚¹ãƒˆï¼š
```bash
cd back
WHOMBAT_DEV=true uv run python -m whombat
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒèµ·å‹•ã—ãªã„

1. ãƒ­ã‚°ã‚’ç¢ºèªï¼š
```bash
cat logs/frontend.log
```

2. node_modulesã‚’ç¢ºèªï¼š
```bash
cd front
ls -la node_modules
```

3. æ‰‹å‹•ã§èµ·å‹•ãƒ†ã‚¹ãƒˆï¼š
```bash
cd front
npm run dev
```

### ãƒ­ã‚°ãŒè¦‹ã¤ã‹ã‚‰ãªã„

ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯è‡ªå‹•ä½œæˆã•ã‚Œã¾ã™ãŒã€æ‰‹å‹•ã§ä½œæˆã™ã‚‹å ´åˆï¼š

```bash
mkdir -p logs
```

---

## ğŸŒ ã‚¢ã‚¯ã‚»ã‚¹URL

èµ·å‹•å¾Œã€ä»¥ä¸‹ã®URLã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ï¼š

| ã‚µãƒ¼ãƒ“ã‚¹ | URL | èª¬æ˜ |
|---------|-----|------|
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | http://localhost:3000 | ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ |
| **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** | http://localhost:5000/docs | Swagger UI |
| **API ReDoc** | http://localhost:5000/redoc | ReDocå½¢å¼ã®APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | http://localhost:5000 | REST API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ |

---

## ğŸ“ ç’°å¢ƒå¤‰æ•°

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½¿ç”¨ã§ãã‚‹ç’°å¢ƒå¤‰æ•°ï¼š

| å¤‰æ•°å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|--------|------------|------|
| `WHOMBAT_BACKEND_PORT` | 5000 | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒãƒ¼ãƒˆç•ªå· |
| `WHOMBAT_FRONTEND_PORT` | 3000 | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ãƒãƒ¼ãƒˆç•ªå· |
| `WHOMBAT_DEV` | true | é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ï¼ˆstart.shã§è‡ªå‹•è¨­å®šï¼‰ |

**ä½¿ç”¨ä¾‹**:
```bash
# ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒˆã§èµ·å‹•
WHOMBAT_BACKEND_PORT=8080 WHOMBAT_FRONTEND_PORT=8081 ./scripts/start.sh

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèªã‚‚åŒã˜ãƒãƒ¼ãƒˆã‚’ä½¿ç”¨
WHOMBAT_BACKEND_PORT=8080 WHOMBAT_FRONTEND_PORT=8081 ./scripts/status.sh
```

---

## ğŸ” æ©Ÿèƒ½ã®ç¢ºèª

### å¯è¦–æ€§åˆ¶å¾¡æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆæ‰‹é †

èµ·å‹•å¾Œã€ä»¥ä¸‹ã®æ‰‹é †ã§å®Ÿè£…ã—ãŸå¯è¦–æ€§åˆ¶å¾¡æ©Ÿèƒ½ã‚’ç¢ºèªã§ãã¾ã™ï¼š

1. **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆã¨ãƒ­ã‚°ã‚¤ãƒ³**
   - http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
   - æ–°è¦ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ

2. **ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆä½œæˆ**
   - Datasets â†’ Create Dataset
   - Visibilityã‚»ãƒ¬ã‚¯ã‚¿ã‚’ç¢ºèªï¼š
     - ğŸŒ Public
     - ğŸ‘¥ Restricted
     - ğŸ”’ Private

3. **ã‚°ãƒ«ãƒ¼ãƒ—æ©Ÿèƒ½**
   - Restrictedã‚’é¸æŠã™ã‚‹ã¨Groupã‚»ãƒ¬ã‚¯ã‚¿ãŒè¡¨ç¤ºã•ã‚Œã‚‹
   - ã¾ãšAdminç”»é¢ã§ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ
   - è‡ªåˆ†ã‚’Managerãƒ­ãƒ¼ãƒ«ã§è¿½åŠ 

4. **ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**
   - Annotation Projects â†’ Create Project
   - åŒã˜Visibilityæ©Ÿèƒ½ã‚’ç¢ºèª

5. **å¯è¦–æ€§ãƒãƒƒã‚¸**
   - ä¸€è¦§ç”»é¢ã§å„ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒãƒƒã‚¸ã‚’ç¢ºèª
   - è‰²åˆ†ã‘ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç¢ºèª

---

## ğŸ’¡ Tips

### ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ

é•·æ™‚é–“å®Ÿè¡Œã™ã‚‹å ´åˆï¼š

```bash
# nohupã§èµ·å‹•ï¼ˆãƒ­ã‚°ã‚¢ã‚¦ãƒˆå¾Œã‚‚å®Ÿè¡Œç¶™ç¶šï¼‰
nohup ./scripts/start.sh > /dev/null 2>&1 &

# tmux/screenã‚’ä½¿ç”¨
tmux new -s whombat
./scripts/start.sh
# Ctrl+B, D ã§ãƒ‡ã‚¿ãƒƒãƒ

# å†æ¥ç¶š
tmux attach -t whombat
```

### å®šæœŸçš„ãªãƒ­ã‚°ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

```bash
# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒªã‚¢
> logs/backend.log
> logs/frontend.log

# ã¾ãŸã¯å‰Šé™¤
rm logs/*.log
```

### systemdã‚µãƒ¼ãƒ“ã‚¹åŒ–ï¼ˆLinuxï¼‰

æœ¬ç•ªç’°å¢ƒã§systemdã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ç™»éŒ²ã™ã‚‹ä¾‹ï¼š

```bash
# /etc/systemd/system/whombat.service
[Unit]
Description=Whombat Application
After=network.target

[Service]
Type=simple
User=your-user
WorkingDirectory=/path/to/whombat
ExecStart=/path/to/whombat/scripts/start.sh
ExecStop=/path/to/whombat/scripts/stop.sh
Restart=on-failure

[Install]
WantedBy=multi-user.target
```

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªï¼š`logs/backend.log`, `logs/frontend.log`
2. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ç¢ºèªï¼š`./scripts/status.sh`
3. GitHubã®Issueã‚’ç¢ºèªï¼šhttps://github.com/mbsantiago/whombat/issues

---

**ä½œæˆæ—¥**: 2025-10-18
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
